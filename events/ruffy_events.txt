namespace = ME_Korea_Events

##################
# First Phase
##################

#Westology
country_event = {
	id = ME_Korea_Events.500
	title = ME_Korea_Events.500.t
	desc = ME_Korea_Events.500.d
	picture = BIG_BOOK_eventPicture

	fire_only_once = yes
	
	trigger = {
		OR = {
			tag = KOR
			tag = JOS
		}
		ai = no
		europe = {
			has_discovered = ROOT
		}
	}

	option = {
		name = ME_Korea_Events.500.a

		country_event = {
			id = ME_Korea_Events.12369
			days = 730
		}
	}
}

#Intresting Instruments
country_event = {
	id = ME_Korea_Events.12369
	title = ME_Korea_Events.12369.t
	desc = ME_Korea_Events.12369.d
	picture = INVENTION_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_variable = { modernization_vs_isolation = 0 }
		}
	}

	option = {
		name = ME_Korea_Events.12369.a

		add_country_modifier = {
			name = KOR_western_studies
			duration = 10950
		}
		set_country_flag = KOR_western_studies_flag
		custom_tooltip = kor_modernization.tooltip
	}
}

#Scholasticism
country_event = {
    id = ME_Korea_Events.51
    title = ME_Korea_Events.51.t
    desc = ME_Korea_Events.51.d
    picture = MERITOCRACY_eventPicture

	fire_only_once = yes

    trigger = {
		has_country_flag = KOR_western_studies_flag
    }

    mean_time_to_happen = {
        months = 60
        modifier = {
            factor = 0.8
            full_idea_group = innovativeness_ideas
        }
    }

    option = {
        name = ME_Korea_Events.51.a

        ai_chance = { factor = 0.6 }

        change_variable = { modernization_vs_isolation = 10 }
        add_country_modifier = {
            name = KOR_scholasticism_refused
            duration = 10950
        }
    }

    option = {
        name = ME_Korea_Events.51.b

        ai_chance = { factor = 0.4 }

        change_variable = { modernization_vs_isolation = -10 }
        add_country_modifier = {
            name = KOR_scholasticism_studied
            duration = 10950
        }
    }
}

#Big Caliber
country_event = {
	id = ME_Korea_Events.52
	title = ME_Korea_Events.52.t
	desc = ME_Korea_Events.52.d
	picture = SIEGE_eventPicture

	fire_only_once = yes

	trigger = {
		has_country_flag = KOR_western_studies_flag
	}

	mean_time_to_happen = {
		months = 60
		modifier = {
			factor = 0.8
			full_idea_group = innovativeness_ideas
		}
		modifier = {
			factor = 0.8
			innovativeness = 50
		}
	}


	option = {
		name = ME_Korea_Events.52.a

		ai_chance = { factor = 0.3 }

		change_variable = { modernization_vs_isolation = 10 }
		add_country_modifier = {
			name = KOR_favor_small_guns
			duration = 10950
		}
	}

	option = {
		name = ME_Korea_Events.52.b

		ai_chance = { factor = 0.7 }

		change_variable = { modernization_vs_isolation = -10 }
		add_country_modifier = {
			name = KOR_favor_big_guns
			duration = 10950
		}
	}

	after = {
		set_country_flag = KOR_big_caliber
	}
}

#Finance System
country_event = {
	id = ME_Korea_Events.53
	title = ME_Korea_Events.53.t
	desc = ME_Korea_Events.53.d
	picture = ECONOMY_eventPicture

	fire_only_once = yes

	trigger = {
		has_country_flag = KOR_western_studies_flag
	}

	mean_time_to_happen = {
		months = 60
		modifier = {
			factor = 0.8
			full_idea_group = innovativeness_ideas
		}
	}

	option = {
		name = ME_Korea_Events.53.a

		ai_chance = { factor = 0.5 }

		change_variable = { modernization_vs_isolation = 10 }
		add_country_modifier = {
			name = KOR_financial_system_refused
			duration = 10950
		}
	}

	option = {
		name = ME_Korea_Events.53.b

		ai_chance = { factor = 0.5 }

		change_variable = { modernization_vs_isolation = -10 }
		add_country_modifier = {
			name = KOR_financial_system_adopted
			duration = 10950
		}
	}
}

#Western Engineering
country_event = {
	id = ME_Korea_Events.54
	title = ME_Korea_Events.54.t
	desc = ME_Korea_Events.54.d
	picture = GREAT_BUILDING_eventPicture

	fire_only_once = yes

	trigger = {
		has_country_flag = KOR_big_caliber
	}

	mean_time_to_happen = {
		months = 60
		modifier = {
			factor = 0.8
			full_idea_group = innovativeness_ideas
		}
	}

	option = {
		name = ME_Korea_Events.54.a

		ai_chance = { factor = 0.6 }

		change_variable = { modernization_vs_isolation = 10 }
		add_country_modifier = {
			name = KOR_western_engineering_refused
			duration = 10950
		}
	}

	option = {
		name = ME_Korea_Events.54.b

		ai_chance = { factor = 0.4 }

		change_variable = { modernization_vs_isolation = -10 }
		add_country_modifier = {
			name = KOR_western_engineering_accepted
			duration = 10950
		}
	}

	after = {
		set_country_flag = KOR_western_engineering
	}
}

#Military Organization
country_event = {
	id = ME_Korea_Events.55
	title = ME_Korea_Events.55.t
	desc = ME_Korea_Events.55.d
	picture = CHINESE_GENERAL_eventPicture

	fire_only_once = yes

	trigger = {
		has_country_flag = KOR_big_caliber
	}

	mean_time_to_happen = {
		months = 120
		modifier = {
			factor = 0.9
			full_idea_group = innovativeness_ideas
		}
	}

	option = {
		name = ME_Korea_Events.55.a

		ai_chance = { factor = 0.8 }

		change_variable = { modernization_vs_isolation = 10 }
		add_country_modifier = {
			name = KOR_western_organization_refused
			duration = 10950
		}
	}

	option = {
		name = ME_Korea_Events.55.b

		ai_chance = { factor = 0.2 }

		change_variable = { modernization_vs_isolation = -10 }
		add_country_modifier = {
			name = KOR_western_organization_adopted
			duration = 10950
		}
	}
}

#Western Technology
country_event = {
	id = ME_Korea_Events.56
	title = ME_Korea_Events.56.t
	desc = ME_Korea_Events.56.d
	picture = INVENTION_eventPicture

	fire_only_once = yes

	trigger = {
		has_country_flag = KOR_western_engineering
	}

	mean_time_to_happen = {
		months = 60
		modifier = {
			factor = 0.8
			full_idea_group = innovativeness_ideas
		}
		modifier = {
			factor = 0.8
			innovativeness = 50
		}
	}

	option = {
		name = ME_Korea_Events.56.a

		ai_chance = { factor = 0.4 }

		change_variable = { modernization_vs_isolation = 10 }
		add_country_modifier = {
			name = KOR_western_technology_refused
			duration = 10950
		}
	}

	option = {
		name = ME_Korea_Events.56.b

		ai_chance = { factor = 0.6 }

		change_variable = { modernization_vs_isolation = -10 }
		add_country_modifier = {
			name = KOR_western_technology_accepted
			duration = 10950
		}
	}

	after = {
		set_country_flag = KOR_western_technology
	}
}

#Dig Deep into The Philosophy
country_event = {
	id = ME_Korea_Events.57
	title = ME_Korea_Events.57.t
	desc = ME_Korea_Events.57.d
	picture = DEBATE_REPUBLICAN_eventPicture

	fire_only_once = yes

	trigger = {
		has_country_flag = KOR_western_technology
	}

	mean_time_to_happen = {
		months = 60
		modifier = {
			factor = 0.8
			full_idea_group = innovativeness_ideas
		}
	}

	option = {
		name = ME_Korea_Events.57.a

		ai_chance = { factor = 0.1 }

		change_variable = { modernization_vs_isolation = 10 }
		add_stability_or_adm_power = yes
		add_country_modifier = {
			name = KOR_did_not_dig_deep
			duration = -1
		}
	}

	option = {
		name = ME_Korea_Events.57.b

		ai_chance = { factor = 0.9 }

		change_variable = { modernization_vs_isolation = -10 }
		add_country_modifier = {
			name = KOR_did_dig_deep
			duration = -1
		}
	}

	after = {
		set_country_flag = KOR_digging
	}
}

#Silhak
country_event = {
	id = ME_Korea_Events.58
	title = ME_Korea_Events.58.t
	desc = ME_Korea_Events.58.d
	picture = REFORM_eventPicture

	fire_only_once = yes

	trigger = {
		has_country_flag = KOR_digging
		NOT = {
			check_variable = {
				which = modernization_vs_isolation
				value = 50
			}
		}
	}

	mean_time_to_happen = {
		months = 120
		modifier = {
			factor = 0.7
			full_idea_group = innovativeness_ideas
		}
		modifier = {
			factor = 0.8
			natural_scientist = 3
		}
	}

	option = {
		name = ME_Korea_Events.58.a

		add_country_modifier = {
			name = KOR_silhak
			duration = -1
		}
		set_country_flag = kor_catholic_spread0
	}

	after = { #clearing up flags of the first phase
		clr_country_flag = KOR_digging
		clr_country_flag = KOR_western_engineering
		clr_country_flag = KOR_western_studies_flag
		clr_country_flag = KOR_western_technology
		clr_country_flag = KOR_big_caliber
	}
}

##################
# Second Phase
##################

#Volunteerary Believers
country_event = {
	id = ME_Korea_Events.59
	title = ME_Korea_Events.59.t
	desc = ME_Korea_Events.59.d
	picture = PRAYING_eventPicture

	trigger = {
		has_country_modifier = KOR_silhak
		NOT = { has_country_flag = kor_catholic_purged }
	}

	mean_time_to_happen = {
		months = 36
		modifier = {
			factor = 3
			num_of_owned_provinces_with = {
				value = 12
				religion = catholic
				has_owner_culture = yes
				NOT = { nationalism = 1 }
			}
		}
		modifier = {
			factor = 0.65
			NOT = {
				num_of_owned_provinces_with = {
					value = 5
					religion = catholic
					has_owner_culture = yes
					NOT = { nationalism = 1 }
				}
			}
		}
	}

	immediate = {
		hidden_effect = {
			random_list = {
				25 = {
					set_country_flag = kor_catholic_spread0
				}
				25 = {
					set_country_flag = kor_catholic_spread1
				}
				25 = {
					set_country_flag = kor_catholic_spread2
				}
				25 = {
					set_country_flag = kor_catholic_spread3
				}
			}
		}
	}

	option = {
		name = ME_Korea_Events.59.a

		random_owned_province = {
			limit = {
				has_owner_culture = yes
				NOT = { religion = catholic }
			}
			change_religion = catholic
		}
		hidden_effect = {
			clr_country_flag = kor_catholic_spread0
			clr_country_flag = kor_catholic_spread1
			clr_country_flag = kor_catholic_spread2
			clr_country_flag = kor_catholic_spread3
			clr_country_flag = kor_catholic_spread4
		}
	}
}

#Faith Spreads
country_event = {
	id = ME_Korea_Events.60
	title = ME_Korea_Events.60.t
	desc = ME_Korea_Events.60.d
	picture = RELIGION_eventPicture

	fire_only_once = yes

	trigger = {
		OR = {
			tag = KOR
			tag = JOS
		}
		num_of_owned_provinces_with = {
			value = 3
			religion = catholic
			has_owner_culture = yes
			NOT = { nationalism = 1 }
		}
	}

	option = {
		name = ME_Korea_Events.60.a

		ai_chance = { factor = 0.1 }

		add_country_modifier = {
			name = KOR_purged_the_cult
			duration = 3650
		}
		set_country_flag = kor_catholic_purged
	}

	option = {
		name = ME_Korea_Events.60.b

		ai_chance = { factor = 0.9 }
	}
}

#Miracle in The East
country_event = {
	id = ME_Korea_Events.61
	title = ME_Korea_Events.61.t
	desc = ME_Korea_Events.61.d
	picture = POPE_PREACHING_eventPicture

	fire_only_once = yes

	trigger = {
		OR = {
			tag = PAP
			AND = {
				NOT = { exists = PAP }
				is_papal_controller = yes
			}
		}
		OR = {
			KOR = {
				num_of_owned_provinces_with = {
					value = 5
					religion = catholic
					has_owner_culture = yes
					NOT = { nationalism = 1 }
				}
			}
			JOS = {
				num_of_owned_provinces_with = {
					value = 5
					religion = catholic
					has_owner_culture = yes
					NOT = { nationalism = 1 }
				}
			}
		}
	}

	option = {
		name = ME_Korea_Events.61.a

		korea_region = {
			discover_country = ROOT
		}
		set_country_flag = news_on_far_east_catholic
	}
}

#Question of Ancestral Ritual
country_event = {
	id = ME_Korea_Events.62
	title = ME_Korea_Events.62.t
	desc = ME_Korea_Events.62.d
	picture = POPE_PREACHING_eventPicture

	fire_only_once = yes

	trigger = {
		has_country_flag = news_on_far_east_catholic
	}

	mean_time_to_happen = {
		days = 3650
	}

	option = {
		name = ME_Korea_Events.62.a

		ai_chance = {
			factor = 0.5
			modifier = {
				factor = 0
				any_known_country = {
					has_country_modifier = the_societas_jesu
				}
				is_papal_controller = yes
			}
		}

		set_country_flag = pope_bans_ritual
		hidden_effect = {
			if = {
				limit = {
					exists = JOS
				}
				JOS = {
					country_event = { id = ME_Korea_Events.63 days = 1460 }
				}
			}
			else_if = {
				limit = {
					exists = KOR
				}
				KOR = {
					country_event = { id = ME_Korea_Events.63 days = 1460 }
				}
			}
		}
	}

	option = {
		name = ME_Korea_Events.62.b

		ai_chance = { factor = 0.5 }

		set_country_flag = pope_approves_ritual
		hidden_effect = {
			if = {
				limit = {
					exists = JOS
				}
				JOS = {
					country_event = { id = ME_Korea_Events.64 days = 1825 }
				}
			}
			else_if = {
				limit = {
					exists = KOR
				}
				KOR = {
					country_event = { id = ME_Korea_Events.64 days = 1825 }
				}
			}
		}
	}
}

#Korean Catholics Gathers
country_event = {
	id = ME_Korea_Events.63
	title = ME_Korea_Events.63.t
	desc = ME_Korea_Events.63.d
	picture = PROTESTANT_GREAT_REFORMER_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = ME_Korea_Events.63.a

		ai_chance = { factor = 0.2 }

		random_list = {
			90 = {
				set_country_flag = pope_approves_ritual
				hidden_effect = {
					country_event = { id = ME_Korea_Events.64 days = 365 }
				}
				add_legitimacy = 10
				add_prestige = -90
			}
			10 = {
				set_country_flag = stubborn_pope
			}
		}
	}

	option = {
		name = ME_Korea_Events.63.b

		ai_chance = { factor = 0.3 }

		random_list = {
			50 = {
				set_country_flag = pope_approves_ritual
				hidden_effect = {
					country_event = { id = ME_Korea_Events.64 days = 365 }
				}
				add_prestige = -50
			}
			50 = {
				set_country_flag = stubborn_pope
			}
		}
	}

	option = {
		name = ME_Korea_Events.63.c

		ai_chance = { factor = 0.5 }

		random_list = {
			1 = {
				set_country_flag = pope_approves_ritual
				hidden_effect = {
					country_event = { id = ME_Korea_Events.64 days = 365 }
				}
				add_legitimacy = -25
				add_prestige = 30
			}
			99 = {
				set_country_flag = stubborn_pope
			}
		}
	}
}

#It's Not Sin to have Ritual
country_event = {
	id = ME_Korea_Events.64
	title = ME_Korea_Events.64.t
	desc = ME_Korea_Events.64.d
	picture = BUDDHA_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ME_Korea_Events.64.a

		PAP = {
			if = {
				limit = {
					exists = JOS
				}
				add_opinion = {
					who = JOS
					modifier = KOR_volunteerary_believers
				}
			}
			else_if = {
				limit = {
					exists = KOR
				}
				add_opinion = {
					who = KOR
					modifier = KOR_volunteerary_believers
				}
			}
		}
		if = {
			limit = {
				exists = JOS
			}
			JOS = {
				add_opinion = {
					who = PAP
					modifier = KOR_volunteerary_believers
				}
				country_event = {
					id = ME_Korea_Events.65
					days = 1095
					random = 1460
				}
			}
		}
		else_if = {
			limit = {
				exists = KOR
			}
			KOR = {
				add_opinion = {
					who = PAP
					modifier = KOR_volunteerary_believers
				}
				country_event = {
					id = ME_Korea_Events.65
					days = 1095
					random = 1460
				}
			}
		}
	}
}

#Close The Gap
country_event = {
	id = ME_Korea_Events.65
	title = ME_Korea_Events.65.t
	desc = ME_Korea_Events.65.d
	picture = STREET_SPEECH_eventPicture

	fire_only_once = yes

	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1825
		modifier = {
			factor = 0.5
			full_idea_group = humanist_ideas
		}
	}

	option = {
		name = ME_Korea_Events.65.a

		add_years_of_income = 0.8
		if = {
			limit = {
				is_harmonizing_with = catholic
			}
			add_harmonization_progress = 50
		}
		else_if = {
			limit = {
				has_harmonized_with = catholic
			}
			add_stability_or_adm_power = yes
		}
		else_if = {
			limit = {
				NOT = {
					is_harmonizing_with = catholic
					has_harmonized_with = christian
				}
			}
			add_country_modifier = {
				name = KOR_tolerated_harmony
				duration = 9125
			}
		}
		set_country_flag = closed_gap
	}
}

#Grand Embassy To The Pope
country_event = {
	id = ME_Korea_Events.66
	title = ME_Korea_Events.66.t
	desc = ME_Korea_Events.66.d
	picture = TRIBUTARY_FLEET_eventPicture

	fire_only_once = yes

	trigger = {
		OR = {
			tag = KOR
			tag = JOS
		}
		has_harmonized_with = christian
		has_country_flag = closed_gap
	}

	mean_time_to_happen = {
		days = 1095
		modifier = {
			factor = 0.1
			harmony = 60
		}
	}

	option = {
		name = ME_Korea_Events.66.a

		hidden_effect = {
			every_country = {
				limit = {
					religion = catholic
				}
				country_event = {
					id = ME_Korea_Events.661
					days = 365
				}
			}
		}
		add_years_of_income = -0.05
		add_prestige = 10
		add_adm_power = -50
	}
}

#Unfamiliar Method
country_event = {
	id = ME_Korea_Events.661
	title = ME_Korea_Events.661.t
	desc = ME_Korea_Events.661.d
	picture = HORDE_ON_HORSEBACK_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = ME_Korea_Events.661.a

		ai_chance = { factor = 5 }

		add_stability_or_adm_power = yes
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = 20
		}
		add_estate_loyalty = {
			estate = estate_church
			loyalty = 20
		}
		add_estate_loyalty = {
			estate = estate_burghers
			loyalty = 20
		}
		add_estate_loyalty = {
			estate = estate_cossacks
			loyalty = 20
		}
		add_prestige = 25
		add_adm_power = 200
		add_stability_or_adm_power = yes
	}

	option = {
		name = ME_Korea_Events.661.b

		ai_chance = {
			factor = 3
			modifier = {
				factor = 1000
				OR = {
					full_idea_group = innovativeness_ideas
					full_idea_group = administrative_ideas
					innovativeness = 50
				}
			}
			modifier = {
				factor = 0
				NOT = { stability = 0 }
			}
		}

		add_stability = -2
		add_country_modifier = {
			name = KOR_meritocracy_from_east
			duration = -1
		}
		if = {
			limit = {
				exists = JOS
			}
			JOS = {
				set_country_flag = ambassadors_inbound
			}
		}
		else_if = {
			limit = {
				exists = KOR
			}
			KOR = {
				set_country_flag = ambassadors_inbound
			}
		}
	}
}

#Ambassadors From West
country_event = {
	id = ME_Korea_Events.67
	title = ME_Korea_Events.67.t
	desc = ME_Korea_Events.67.d
	picture = EUROPEAN_REFUGEES_eventPicture

	fire_only_once = yes

	trigger = {
		OR = {
			tag = KOR
			tag = JOS
		}
		has_country_flag = ambassadors_inbound
	}

	mean_time_to_happen = {
		days = 1825
		modifier = {
			factor = 0.3
			is_year = 1680
		}
		modifier = {
			factor = 0.1
			is_year = 1700
		}
	}

	option = {
		name = ME_Korea_Events.67.a

		add_adm_power = 100
		add_dip_power = 100
		add_mil_power = 100
		clr_country_flag = westology
		clr_country_flag = pope_approves_ritual
		clr_country_flag = pope_bans_ritual
		clr_country_flag = closed_gap
		clr_country_flag = ambassadors_inbound
		every_country = {
			limit = {
				has_country_modifier = KOR_meritocracy_from_east
			}
			add_country_modifier = {
				name = KOR_leared_from_east
				duration = -1
			}
		}
	}
}

#Stirring Scholars
country_event = {
	id = ME_Korea_Events.68
	title = ME_Korea_Events.68.t
	desc = ME_Korea_Events.68.d
	picture = LIBERUM_VETO_eventPicture

	fire_only_once = yes

	trigger = {
		OR = {
			tag = KOR
			tag = JOS
		}
		current_age = age_of_revolutions
		has_country_flag = ambassadors_inbound
	}

	option = {
		name = ME_Korea_Events.68.a

		add_country_modifier = {
			name = KOR_baekgajangmyeong
			duration = -1
		}
	}
}

##################
# Side Story Phase
##################

#Rising Stars Among Families
country_event = {
	id = ME_Korea_Events.69
	title = ME_Korea_Events.69.t
	desc = ME_Korea_Events.69.d
	picture = FREE_CITY_eventPicture

	fire_only_once = yes

	trigger = {
		OR = {
			tag = KOR
			tag = JOS
		}
		is_year = 1650
		korea_region = {
			type = all
			owned_by = ROOT
			has_manufactory_trigger = yes
			development = 12
		}
	}

	mean_time_to_happen = {
		days = 1825
		modifier = {
			factor = 0.8
			full_idea_group = economic_ideas
		}
	}

	immediate = {
		hidden_effect = {
			set_variable = { sijeon_vs_sasang = 0 }
		}
	}

	option = {
		name = ME_Korea_Events.69.a

		korea_region = {
			limit = {
				OR = {
					province_trade_power = 45
					province_has_center_of_trade_of_level = 3
				}
			}
			add_province_modifier = {
				name = KOR_well_planned_industry
				duration = 9125
			}
		}

		hidden_effect = {
			country_event = {
				id = ME_Korea_Events.70
				days = 1095
				random = 1460
			}
		}
		set_country_flag = jaebeols
	}
}

#Question Of License
country_event = {
	id = ME_Korea_Events.70
	title = ME_Korea_Events.70.t
	desc = ME_Korea_Events.70.d
	picture = MERCHANTS_TALKING_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = {
				id = ME_Korea_Events.71
				days = 1095
				random = 1460
			}
			country_event = {
				id = ME_Korea_Events.72
				days = 1095
				random = 1460
			}
		}
	}

	option = {
		name = ME_Korea_Events.70.a

		change_variable = { sijeon_vs_sasang = -10 }
		add_estate_loyalty = {
			estate = estate_church
			loyalty = 15
		}
		add_country_modifier = {
			name = KOR_favored_sijeon
			duration = 3650
		}
	}

	option = {
		name = ME_Korea_Events.70.b

		change_variable = { sijeon_vs_sasang = 10 }
		add_estate_loyalty = {
			estate = estate_burghers
			loyalty = 15
		}
		add_country_modifier = {
			name = KOR_favored_sasang
			duration = 3650
		}
	}
}

#Clergy Aids Licensed Merchants
country_event = {
	id = ME_Korea_Events.71
	title = ME_Korea_Events.71.t
	desc = ME_Korea_Events.71.d
	picture = CORRUPTION_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ME_Korea_Events.71.a

		735 = {
			add_base_tax = 1
			add_base_production = 1
			add_base_manpower = 1
		}
		set_country_flag = sijeon_with_clergy
	}
}

#Unlicensed Unites
country_event = {
	id = ME_Korea_Events.72
	title = ME_Korea_Events.72.t
	desc = ME_Korea_Events.72.d
	picture = TRADE_GOODS_FURS_FISH_AND_SALT_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ME_Korea_Events.72.a

		every_owned_province = {
			limit = {
				has_province_modifier = KOR_well_planned_industry
			}
			add_base_tax = 1
			add_base_production = 1
			add_base_manpower = 1
		}
		set_country_flag = sasang_unites
	}
}

#Merchant Bench-Clearing
country_event = {
	id = ME_Korea_Events.73
	title = ME_Korea_Events.73.t
	desc = ME_Korea_Events.73.d
	picture = ANGRY_MOB_eventPicture

	fire_only_once = yes

	trigger = {
		has_country_flag = sijeon_with_clergy
		has_country_flag = sasang_unites
	}

	mean_time_to_happen = {
		days = 1825

		modifier = {
			factor = 0.7
			estate_influence = {
				estate = estate_church
				influence = 60
			}
		}
		modifier = {
			factor = 0.7
			estate_influence = {
				estate = estate_burghers
				influence = 60
			}
		}
	}

	immediate = {
		hidden_effect = {
			country_event = {
				id = ME_Korea_Events.74
				days = 1095
				random = 1460
			}
			capital_scope = {
				add_devastation = 0.5
			}
		}
	}

	option = {
		name = ME_Korea_Events.73.a

		change_variable = { sijeon_vs_sasang = -10 }
		add_estate_loyalty = {
			estate = estate_burghers
			loyalty = -10
		}
	}

	option = {
		name = ME_Korea_Events.73.b

		change_variable = { sijeon_vs_sasang = 10 }
		add_estate_loyalty = {
			estate = estate_church
			loyalty = -10
		}
	}

	option = {
		name = ME_Korea_Events.73.c

		add_estate_loyalty = {
			estate = estate_church
			loyalty = -10
		}
		add_estate_loyalty = {
			estate = estate_burghers
			loyalty = -10
		}
		add_years_of_income = 1
	}
}

#Production Rights
country_event = {
	id = ME_Korea_Events.74
	title = ME_Korea_Events.74.t
	desc = ME_Korea_Events.74.d
	picture = TRADEGOODS_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			random_owned_province = {
				add_base_production = 1
			}
			country_event = {
				id = ME_Korea_Events.75
				days = 1095
				random = 1460
			}
		}
	}

	option = {
		name = ME_Korea_Events.74.a

		change_variable = { sijeon_vs_sasang = -10 }
		add_estate_loyalty = {
			estate = estate_burghers
			loyalty = -15
		}
		random_owned_province = {
			limit = {
				has_estate = estate_burghers
			}
			create_revolt = 1.5
		}
	}

	option = {
		name = ME_Korea_Events.74.b

		change_variable = { sijeon_vs_sasang = 10 }
		add_estate_loyalty = {
			estate = estate_church
			loyalty = -15
		}
		random_owned_province = {
			limit = {
				has_estate = estate_church
			}
			create_revolt = 2.5
		}
	}
}

#Logistic's Favor
country_event = {
	id = ME_Korea_Events.75
	title = ME_Korea_Events.75.t
	desc = ME_Korea_Events.75.d
	picture = HARBOUR_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = kor_nanjeon
		}
	}

	option = {
		name =  ME_Korea_Events.75.a

		change_variable = { sijeon_vs_sasang = -10 }
		add_estate_loyalty = {
			estate = estate_burghers
			loyalty = -15
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			particularist_rebels = 1
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			particularist_rebels = 1
		}
	}

	option = {
		name = ME_Korea_Events.75.b

		change_variable = { sijeon_vs_sasang = 10 }
		add_estate_loyalty = {
			estate = estate_church
			loyalty = -15
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			particularist_rebels = 1
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			particularist_rebels = 1
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			particularist_rebels = 1
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			particularist_rebels = 2
		}
	}
}

#Rights Abused by Sijeon
country_event = {
	id = ME_Korea_Events.76
	title = ME_Korea_Events.76.t
	desc = ME_Korea_Events.76.d
	picture = BANKRUPTCY_eventPicture

	fire_only_once = yes

	trigger = {
		has_country_flag = kor_nanjeon
	}

	mean_time_to_happen = {
		days = 730

		modifier = {
			factor = 0.5
			is_year = 1680
		}
	}

	immediate = {
		hidden_effect = {
			set_country_flag = sijeon_rights_abused
		}
	}

	option = {
		name = ME_Korea_Events.76.a

		change_variable = { sijeon_vs_sasang = -10 }
		add_estate_loyalty = {
			estate = estate_church
			loyalty = 10
		}
		add_years_of_income = 0.25
		random_owned_province = {
			limit = {
				is_state = yes
			}
			particularist_rebels = 1
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			particularist_rebels = 0.5
		}
		add_corruption = 5
	}

	option = {
		name = ME_Korea_Events.76.b

		change_variable = { sijeon_vs_sasang = 10 }
		add_years_of_income = -0.33
		add_estate_loyalty = {
			estate = estate_church
			loyalty = -10
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			particularist_rebels = 2
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			particularist_rebels = 2
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			particularist_rebels = 1
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			particularist_rebels = 1
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			particularist_rebels = 1
		}
		every_owned_province = {
			limit = {
				has_estate = estate_church
			}
			add_province_modifier = {
				name = KOR_sijeon_punished
				duration = 5475
			}
		}
	}
}

#Laws Broken by Sasang
country_event = {
	id = ME_Korea_Events.77
	title = ME_Korea_Events.77.t
	desc = ME_Korea_Events.77.d
	picture = CORRUPTION_eventPicture

	fire_only_once = yes

	trigger = {
		has_country_flag = kor_nanjeon
	}

	mean_time_to_happen = {
		days = 730

		modifier = {
			factor = 0.5
			is_year = 1680
		}
	}

	immediate = {
		hidden_effect = {
			set_country_flag = sasang_broke_law
		}
	}

	option = {
		name = ME_Korea_Events.77.a

		change_variable = { sijeon_vs_sasang = -10 }
		add_estate_loyalty = {
			estate = estate_burghers
			loyalty = 10
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			particularist_rebels = 1
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			particularist_rebels = 2
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			particularist_rebels = 2
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			particularist_rebels = 2
		}
		add_corruption = 10
	}

	option = {
		name = ME_Korea_Events.77.b

		change_variable = { sijeon_vs_sasang = 10 }
		add_estate_loyalty = {
			estate = estate_burghers
			loyalty = -10
		}
		add_years_of_income = 0.5
		random_owned_province = {
			limit = {
				is_state = yes
			}
			particularist_rebels = 1
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			particularist_rebels = 1
		}
		every_owned_province = {
			limit = {
				has_estate = estate_burghers
			}
			add_province_modifier = {
				name = KOR_sasang_punished
				duration = 5475
			}
		}
	}
}

#Collision of the Merchants
country_event = {
	id = ME_Korea_Events.78
	title = ME_Korea_Events.78.t
	desc = ME_Korea_Events.78.d
	picture = ANGRY_MOB_eventPicture

	fire_only_once = yes

	trigger = {
		has_country_flag = sijeon_rights_abused
		has_country_flag = sasang_broke_law
	}

	mean_time_to_happen = {
		days = 365
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					is_capital = yes
				}
				particularist_rebels = 3
			}
			random_owned_province = {
				limit = {
					is_state = yes
				}
				particularist_rebels = 2
			}
			random_owned_province = {
				limit = {
					is_state = yes
				}
				particularist_rebels = 2
			}
			random_owned_province = {
				limit = {
					is_state = yes
				}
				particularist_rebels = 2
			}
			random_owned_province = {
				limit = {
					is_state = yes
				}
				particularist_rebels = 2
			}
			random_owned_province = {
				limit = {
					is_state = yes
				}
				particularist_rebels = 2
			}
			random_owned_province = {
				limit = {
					is_state = yes
				}
				particularist_rebels = 2
			}
			set_country_flag = kor_merchants_rise_up
		}
	}

	option = {
		name = ME_Korea_Events.78.a

		trigger = {
			NOT = {
				check_variable = { sijeon_vs_sasang = 30 }
			}
		}

		change_variable = { sijeon_vs_sasang = -10 }
		add_estate_loyalty = {
			estate = estate_burghers
			loyalty = -30
		}
	}

	option = {
		name = ME_Korea_Events.78.b

		trigger = {
			check_variable = { sijeon_vs_sasang = -20 }
		}

		change_variable = { sijeon_vs_sasang = 10 }
		add_estate_loyalty = {
			estate = estate_church
			loyalty = -30
		}
	}
}

#The end of the Conflict
country_event = {
	id = ME_Korea_Events.79
	title = ME_Korea_Events.79.t
	desc = ME_Korea_Events.79.d
	picture = ECONOMY_eventPicture

	fire_only_once = yes

	trigger = {
		has_country_flag = kor_merchants_rise_up
		NOT = { num_of_rebel_controlled_provinces = 1 }
	}

	mean_time_to_happen = {
		months = 3
	}

	immediate = {
		hidden_effect = {
			clr_country_flag = jaebeols
			clr_country_flag = sijeon_with_clergy
			clr_country_flag = sasang_unites
			clr_country_flag = sasang_unites
			clr_country_flag = sijeon_rights_abused
			clr_country_flag = sasang_broke_law
			clr_country_flag = kor_merchants_rise_up
			set_country_flag = kor_jaebeols_settled
			disband_rebels = noble_rebels
			disband_rebels = particularist_rebels
		}
	}

	option = {
		name = ME_Korea_Events.79.a

		if = {
			limit = {
				check_variable = { sijeon_vs_sasang = 60 }
			}
			change_variable = { modernization_vs_isolation = -10 }
			add_country_modifier = {
				name = KOR_autonomic_trade
				duration = 18250
			}
		}
		else_if = {
			limit = {
				check_variable = { sijeon_vs_sasang = 40 }
				NOT = {
					check_variable = { sijeon_vs_sasang = 60 }
				}
			}
			add_country_modifier = {
				name = KOR_free_trade_outside_city_wall
				duration = 18250
			}
		}
		else_if = {
			limit = {
				check_variable = { sijeon_vs_sasang = -30 }
				NOT = {
					check_variable = { sijeon_vs_sasang = 40 }
				}
			}
			add_country_modifier = {
				name = KOR_free_trade_outside_five_days
				duration = -1
			}
			change_variable = { modernization_vs_isolation = 30 }
		}
		else = {
			add_country_modifier = {
				name = KOR_licensed_only
				duration = -1
			}
			change_variable = { modernization_vs_isolation = 40 }
		}
	}
}

##################
# Third Phase
##################

#Fundamental Legitimacy
country_event = {
	id = ME_Korea_Events.80
	title = ME_Korea_Events.80.t
	desc = ME_Korea_Events.80.d
	picture = BAD_WITH_MONARCH_eventPicture

	fire_only_once = yes

	trigger = {
		has_institution = enlightenment
		NOT = {
			has_country_flag = underground_faith
		}
	}
	
	mean_time_to_happen = {
		days = 1825
	}

	immediate = {
		hidden_effect = {
			set_country_flag = kor_hwanguk_ready
		}
	}

	option = {
		name = ME_Korea_Events.80.a

		ai_chance = {
			factor = 8
		}

		change_variable = { modernization_vs_isolation = 10 }
		add_legitimacy = 10
		add_stability_or_adm_power = yes
		add_country_modifier = {
			name = KOR_little_purge_legitimacy
			duration = 1095
		}
	}

	option = {
		name = ME_Korea_Events.80.b

		ai_chance = {
			factor = 2
		}

		change_variable = { modernization_vs_isolation = -10 }
		add_legitimacy = -20
		add_stability = -2
	}
}

#Reasons for Factionalism
country_event = {
	id = ME_Korea_Events.81
	title = ME_Korea_Events.81.t
	desc = ME_Korea_Events.81.d
	picture = LIBERUM_VETO_eventPicture

	fire_only_once = yes

	trigger = {
		has_country_flag = kor_hwanguk_ready
	}

	mean_time_to_happen = {
		days = 730
	}

	option = {
		name = ME_Korea_Events.81.a

		trigger = {
			has_country_modifier = KOR_baekgajangmyeong
		}

		ai_chance = { factor = 1 }

		set_country_flag = harmony_among_factions
		add_adm_power = -100
		add_dip_power = -100
		add_mil_power = -100
		add_legitimacy = -40
		add_prestige = -30
		clr_country_flag = kor_hwanguk_ready
	}

	option = {
		name = ME_Korea_Events.81.b

		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				has_country_modifier = KOR_baekgajangmyeong
			}
		}

		add_stability_or_adm_power = yes
		add_stability = 1
		country_event = {
			id = ME_Korea_Events.666
			days = 1
		}
		custom_tooltip = hwanguk_warning.tooltip
	}
}

#Grand Contention
country_event = {
	id = ME_Korea_Events.82
	title = ME_Korea_Events.82.t
	desc = ME_Korea_Events.82.d
	picture = UNIVERSITY_eventPicture

	fire_only_once = yes

	trigger = {
		has_country_modifier = KOR_baekgajangmyeong
	}

	mean_time_to_happen = {
		days = 1095
		modifier = {
			factor = 0.91
			employed_advisor = {
				category = ADM
			}
		}
		modifier = {
			factor = 0.91
			employed_advisor = {
				category = DIP
			}
		}
		modifier = {
			factor = 0.91
			employed_advisor = {
				category = MIL
			}
		}
	}

	option = {
		name = ME_Korea_Events.82.a

		add_country_modifier = {
			name = KOR_grand_contention
			duration = -1
		}
		country_event = {
			id = ME_Korea_Events.83
			days = 300
			random = 248
		}
	}
}

#Formalization of Eonmun
country_event = {
	id = ME_Korea_Events.83
	title = ME_Korea_Events.83.t
	desc = ME_Korea_Events.83.d
	picture = REFORM_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = {
				id = ME_Korea_Events.84
				days = 183
				random = 364
			}
			country_event = {
				id = ME_Korea_Events.87
				days = 183
				random = 364
			}
		}
	}

	option = {
		name = ME_Korea_Events.83.a

		change_variable = { modernization_vs_isolation = 10 }
		add_country_modifier = {
			name = KOR_illiterate
			duration = 21900
		}
		add_adm_power = 100
	}

	option = {
		name = ME_Korea_Events.83.b

		change_variable = { modernization_vs_isolation = -10 }
		add_country_modifier = {
			name = KOR_literate
			duration = 5475
		}
		add_adm_power = -200
		add_years_of_income = -1
		every_owned_province = {
			limit = {
				culture_group = east_asian
				has_owner_culture = no
			}
			create_revolt = 1
		}
		if = {
			limit = {
				has_dlc = "Mandate of Heaven"
				is_emperor_of_china = yes
			}
			add_mandate = -75
		}
		add_estate_loyalty = {
			estate = estate_burghers
			loyalty = 10
		}
		add_estate_loyalty = {
			estate = estate_church
			loyalty = -30
		}
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = -20
		}
	}
}

#Purpose of the Society
country_event = {
	id = ME_Korea_Events.84
	title = ME_Korea_Events.84.t
	desc = ME_Korea_Events.84.d
	picture = COURT_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = {
				id = ME_Korea_Events.85
				days = 365
			}
		}
	}

	option = {
		name = ME_Korea_Events.84.a

		change_variable = { modernization_vs_isolation = 10 }
		add_country_modifier = {
			name = KOR_void_social_rights
			duration = 29100
		}
		add_adm_power = 100
	}

	option = {
		name = ME_Korea_Events.84.b

		change_variable = { modernization_vs_isolation = -10 }
		add_country_modifier = {
			name = KOR_obtain_social_rights
			duration = 5475
		}
		add_adm_power = -200
		add_stability = -1
		random_owned_province = {
			limit = {
				is_state = yes
			}
			create_revolt = 2
		}
	}
}

#Break the Chain
country_event = {
	id = ME_Korea_Events.85
	title = ME_Korea_Events.85.t
	desc = ME_Korea_Events.85.d
	picture = STREET_SPEECH_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = {
				id = ME_Korea_Events.86
				days = 365
			}
		}
	}

	option = {
		name = ME_Korea_Events.85.a

		change_variable = { modernization_vs_isolation = 20 }
		add_country_modifier = {
			name = KOR_nobi_stay_put
			duration = 29100
		}
		add_adm_power = 200
		add_stability = 1
		add_stability_or_adm_power = yes
		every_owned_province = {
			limit = {
				nationalism = 1
			}
			add_nationalism = -5
		}
	}

	option = {
		name = ME_Korea_Events.85.b

		change_variable = { modernization_vs_isolation = -10 }
		add_country_modifier = {
			name = KOR_nobi_is_now_free
			duration = 5475
		}
		every_owned_province = {
			add_nationalism = 5
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			create_revolt = 1
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			create_revolt = 1
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			create_revolt = 1
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			create_revolt = 1
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			create_revolt = 2
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			create_revolt = 1
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			create_revolt = 2
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			create_revolt = 2
		}
	}
}

#Modernize Military
country_event = {
	id = ME_Korea_Events.86
	title = ME_Korea_Events.86.t
	desc = ME_Korea_Events.86.d
	picture = MILITARY_CAMP_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = kor_modern1
		}
	}

	option = {
		name = ME_Korea_Events.86.a

		change_variable = { modernization_vs_isolation = 20 }
		add_country_modifier = {
			name = KOR_military_rot
			duration = 21900
		}
		add_mil_power = 200
		add_stability_or_adm_power = yes
		every_owned_province = {
			limit = {
				nationalism = 1
			}
			add_nationalism = -5
		}
	}

	option = {
		name = ME_Korea_Events.86.b

		change_variable = { modernization_vs_isolation = -10 }
		add_country_modifier = {
			name = KOR_military_new
			duration = 5475
		}
		every_owned_province = {
			add_nationalism = 5
		}
		add_stability = -3
		add_mil_power = -500
		add_army_tradition = -25
		add_navy_tradition = -25
		random_owned_province = {
			limit = {
				is_capital = yes
			}
			spawn_rebels = {
				type = korean_military_rebels
				size = 5
			}
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			spawn_rebels = {
				type = korean_military_rebels
				size = 5
			}
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			spawn_rebels = {
				type = korean_military_rebels
				size = 5
			}
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			spawn_rebels = {
				type = korean_military_rebels
				size = 5
			}
		}
		random_owned_province = {
			limit = {
				is_state = yes
			}
			spawn_rebels = {
				type = korean_military_rebels
				size = 5
			}
		}
	}
}

#Realize the Currency Value
country_event = {
	id = ME_Korea_Events.87
	title = ME_Korea_Events.87.t
	desc = ME_Korea_Events.87.d
	picture = ECONOMY_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = {
				id = ME_Korea_Events.88
				days = 365
			}
		}
	}

	option = {
		name = ME_Korea_Events.87.a

		change_variable = { modernization_vs_isolation = 10 }
		add_dip_power = 100
		add_years_of_income = 0.5
		add_country_modifier = {
			name = KOR_currency_value_not_realized
			duration = 21900
		}
	}

	option = {
		name = ME_Korea_Events.87.b

		change_variable = { modernization_vs_isolation = -10 }
		add_dip_power = -200
		add_years_of_income = -1
		add_country_modifier = {
			name = KOR_currency_value_realized1
			duration = 5475
		}
		hidden_effect = {
			add_country_modifier = {
				name = KOR_currency_value_realized2
				duration = -1
				hidden = yes
			}
		}
		random_owned_province = {
			limit = {
				has_owner_culture = yes
				development = 30
			}
			create_revolt = 2
		}
		random_owned_province = {
			limit = {
				has_owner_culture = yes
				development = 20
			}
			create_revolt = 2
		}
		random_owned_province = {
			limit = {
				has_owner_culture = yes
				development = 15
			}
			create_revolt = 3
		}
	}
}

#Expand Gongjo
country_event = {
	id = ME_Korea_Events.88
	title = ME_Korea_Events.88.t
	desc = ME_Korea_Events.88.d
	picture = IMPERIAL_SEAL_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = {
				id = ME_Korea_Events.89
				days = 365
			}
		}
	}

	option = {
		name = ME_Korea_Events.88.a

		change_variable = { modernization_vs_isolation = 20 }
		add_dip_power = 150
		add_country_modifier = {
			name = KOR_gongjo_no_change
			duration = 21900
		}
	}

	option = {
		name = ME_Korea_Events.88.b

		change_variable = { modernization_vs_isolation = -10 }
		add_dip_power = -300
		add_years_of_income = -1.5
		add_country_modifier = {
			name = KOR_gongjo_change
			duration = 5475
		}
	}
}

#Modernize Tax
country_event = {
	id = ME_Korea_Events.89
	title = ME_Korea_Events.89.t
	desc = ME_Korea_Events.89.d
	picture = TRADEGOODS_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		set_country_flag = kor_modern2
	}

	option = {
		name = ME_Korea_Events.89.a

		change_variable = { modernization_vs_isolation = 20 }
		add_adm_power = 200
		add_country_modifier = {
			name = KOR_old_tax1
			duration = 219000
		}
		hidden_effect = {
			add_country_modifier = {
				name = KOR_old_tax2
				duration = -1
			}
		}
	}

	option = {
		name = ME_Korea_Events.89.b

		change_variable = { modernization_vs_isolation = -10 }
		add_adm_power = -300
		add_country_modifier = {
			name = KOR_new_tax1
			duration = 5475
		}
		hidden_effect = {
			add_country_modifier = {
				name = KOR_new_tax2
				duration = -1
			}
		}
	}
}

#One Law Above All
country_event = {
	id = ME_Korea_Events.90
	title = ME_Korea_Events.90.t
	desc = ME_Korea_Events.90.d
	picture = DECLARATION_INDEPENDENCE_eventPicture

	fire_only_once = yes

	trigger = {
        has_country_flag = kor_modern1
        has_country_flag = kor_modern2
        NOT = { has_country_flag = kor_no_more_western_reform }
        NOT = { num_of_rebel_armies = 1 }
    }

	mean_time_to_happen = {
		days = 365
	}

	immediate = {
		hidden_effect = {
			country_event = {
				id = ME_Korea_Events.900
				days = 183
				random = 365
			}
		}
	}

	option = {
		name = ME_Korea_Events.90.a

		change_variable = { modernization_vs_isolation = 35 }
		add_adm_power = 200
		add_dip_power = 200
		add_mil_power = 200
		add_stability_or_adm_power = yes
		add_country_modifier = {
			name = KOR_no_constitution1
			duration = -1
		}
		add_country_modifier = {
			name = KOR_no_constitution2
			duration = 21900
		}
	}

	option = {
		name = ME_Korea_Events.90.b

		change_variable = { modernization_vs_isolation = -10 }
		add_legitimacy = -20
		add_adm_power = -200
		add_dip_power = -200
		add_mil_power = -200
		add_country_modifier = {
			name = KOR_constitution1
			duration = 5475
		}
		add_country_modifier = {
			name = KOR_constitution2
			duration = -1
		}
	}
}

#Responsibility of the Nation
country_event = {
	id = ME_Korea_Events.900
	title = ME_Korea_Events.900.t
	desc = ME_Korea_Events.900.d
	picture = DECLARATION_INDEPENDENCE_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = {
				id = ME_Korea_Events.9000
				days = 183
				random = 365
			}
		}
	}

	option = {
		name = ME_Korea_Events.900.a

		change_variable = { modernization_vs_isolation = 35 }
		add_adm_power = 200
		add_dip_power = 200
		add_mil_power = 200
		add_stability_or_adm_power = yes
		add_country_modifier = {
			name = KOR_no_responsible_nation
			duration = 21900
		}
	}

	option = {
		name = ME_Korea_Events.900.b

		change_variable = { modernization_vs_isolation = -10 }
		add_adm_power = -200
		add_dip_power = -200
		add_mil_power = -200
		add_stability = -2
	}
}

#Dawn of the New Era
country_event = {
	id = ME_Korea_Events.9000
	title = ME_Korea_Events.9000.t
	desc = ME_Korea_Events.9000.d
	picture = DECLARATION_INDEPENDENCE_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ME_Korea_Events.9000.a

		if = {
			limit = {
				check_variable = { modernization_vs_isolation = -30 }
			}
			add_country_modifier = {
				name = KOR_reject_negotiation
				duration = -1
			}
			hidden_effect = {
				add_country_modifier = {
					name = KOR_failed_westernization1
					duration = -1
				}
			}
		}
		else_if = {
			limit = {
				check_variable = { modernization_vs_isolation = -90 }
			}
			add_country_modifier = {
				name = KOR_gabo_reform
				duration = -1
			}
			hidden_effect = {
				add_country_modifier = {
					name = KOR_failed_westernization2
					duration = -1
				}
			}
		}
		else_if = {
			limit = {
				check_variable = { modernization_vs_isolation = -120 }
			}
			add_country_modifier = {
				name = KOR_gwangmu
				duration = -1
			}
			hidden_effect = {
				add_country_modifier = {
					name = KOR_failed_westernization2
					duration = -1
				}
			}
		}
		else_if = {
			limit = {
				check_variable = { modernization_vs_isolation = -140 }
			}
			hidden_effect = {
				add_country_modifier = {
					name = KOR_failed_westernization3
					duration = -1
				}
			}
			change_technology_group = eastern
			change_unit_type = eastern
		}
		else_if = {
			limit = {
				check_variable = { modernization_vs_isolation = -160 }
			}
			hidden_effect = {
				add_country_modifier = {
					name = KOR_failed_westernization3
					duration = -1
				}
			}
			change_technology_group = western
			change_unit_type = western
		}
		else = {
			change_technology_group = western
			change_unit_type = western
			add_country_modifier = {
				name = KOR_fully_modernized
				duration = -1
			}
		}
		remove_country_modifier = KOR_western_organization_adopted
		remove_country_modifier = KOR_western_technology_accepted
		remove_country_modifier = KOR_did_dig_deep
		remove_country_modifier = KOR_scholasticism_studied
	}
}

#############################################################
#	DEAD END EVENTS
#
#	WHERE YOU TRY TO SEEK THE PERFECT ANSWER
#
#	BUT WILL WEEP AND REDO FROM THE START
#############################################################

#Keep The Old Ways
country_event = {
	id = ME_Korea_Events.58581
	title = ME_Korea_Events.58581.t
	desc = ME_Korea_Events.58581.d
	picture = GIFTS_TO_EMPEROR_eventPicture

	fire_only_once = yes

	trigger = {
		OR = {
			tag = KOR
			tag = JOS
		}
		OR = {
			has_country_modifier = KOR_did_dig_deep
			has_country_modifier = KOR_did_not_dig_deep
		}
		check_variable = {
			which = modernization_vs_isolation
			value = 50
		}

	}

	mean_time_to_happen = {
		months = 60
		modifier = {
			factor = 0.5
			NOT = { innovativeness = 10 }
		}
	}


	option = {
		name = ME_Korea_Events.58581.a

		add_country_modifier = {
			name = KOR_heohak
			duration = -1
		}
	}
}

#Shrine Burned Down
country_event = {
	id = ME_Korea_Events.63631
	title = ME_Korea_Events.63631.t
	desc = ME_Korea_Events.63631.d
	picture = OVEREXTENSION_eventPicture

	fire_only_once = yes

	trigger = {
		OR = {
			tag = KOR
			tag = JOS
		}
		has_country_flag = stubborn_pope
	}

	mean_time_to_happen = {
		days = 365
	}

	option = {
		name = ME_Korea_Events.63631.a

		add_stability_or_adm_power = yes
		set_country_flag = underground_faith
	}
}

#Cult's letter
country_event = {
	id = ME_Korea_Events.63632
	title = ME_Korea_Events.63632.t
	desc = ME_Korea_Events.63632.d
	picture = PROTESTANT_RELIGIOUS_eventPicture

	fire_only_once = yes

	trigger = {
		is_institution_enabled = enlightenment
		has_country_flag = underground_faith
	}

	mean_time_to_happen = {
		days = 7300
	}

	option = {
		name = ME_Korea_Events.63632.a

		add_country_modifier = {
			name = KOR_purged_the_cult2
			duration = -1
		}
		set_country_flag = kor_catholic_purged
	}
}

########################################
# Below is the HALL OF THE WORTHLESS
########################################

#First Hwanguk
country_event = {
	id = ME_Korea_Events.666
	title = ME_Korea_Events.666.t
	desc = ME_Korea_Events.666.d
	picture = SWORD_Of_OSMAN_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			clr_country_flag = KOR_Sarim_Hungu
			set_ruler_flag = first_hwanguk
		}
	}

	option = {
		name = ME_Korea_Events.666.a

		set_estate_privilege = estate_nobles_first_hwanguk
		change_estate_land_share = {
			estate = all
			share = 15
		}
	}
}

country_event = {
	id = ME_Korea_Events.6661
	title = ME_Korea_Events.6661.t
	desc = ME_Korea_Events.6661.d
	picture = SWORD_Of_OSMAN_eventPicture

	fire_only_once = yes

	trigger = {
		has_ruler_flag = first_hwanguk
	}

	mean_time_to_happen = {
		days = 1825
	}

	immediate = {
		hidden_effect = {
			set_ruler_flag = second_hwanguk
		}
	}

	option = {
		name = ME_Korea_Events.6661.a

		set_estate_privilege = estate_church_second_hwanguk
		change_estate_land_share = {
			estate = all
			share = 15
		}
	}
}

country_event = {
	id = ME_Korea_Events.6662
	title = ME_Korea_Events.6662.t
	desc = ME_Korea_Events.6662.d
	picture = SWORD_Of_OSMAN_eventPicture

	fire_only_once = yes

	trigger = {
		has_ruler_flag = second_hwanguk
	}

	mean_time_to_happen = {
		days = 1825
	}

	immediate = {
		set_ruler_flag = third_hwanguk
	}

	option = {
		name = ME_Korea_Events.6662.a

		set_estate_privilege = estate_burghers_thrid_hwanguk
		change_estate_land_share = {
			estate = all
			share = 15
		}
	}
}

#Major Houses Takes Power
country_event = {
	id = ME_Korea_Events.6663
	title = ME_Korea_Events.6663.t
	desc = ME_Korea_Events.6663.d
	picture = SWORD_Of_OSMAN_eventPicture

	fire_only_once = yes

	trigger = {
		has_estate_privilege = estate_nobles_first_hwanguk
		NOT = { has_ruler_flag = first_hwanguk }
	}

	mean_time_to_happen = {
		days = 1
	}
	immediate = {
		hidden_effect = {
			remove_estate_privilege = estate_nobles_first_hwanguk
			remove_estate_privilege = estate_church_second_hwanguk
			remove_estate_privilege = estate_burghers_thrid_hwanguk
			set_estate_privilege = estate_burghers_unrestricted_landowners
			set_estate_privilege = estate_church_destruction_of_factionalism
			set_estate_privilege = estate_nobles_monopoly_of_consort
			remove_advisor_by_category = ADM
			remove_advisor_by_category = DIP
			remove_advisor_by_category = MIL
		}
	}

	option = {
		name = ME_Korea_Events.6663.a
		add_legitimacy = -80
		add_prestige = -120
		add_stability = -3
		hidden_effect = {
			change_adm = -3
			change_dip = -3
			change_mil = -3
			change_heir_adm = -3
			change_heir_dip = -3
			change_heir_mil = -3
			add_corruption = 20
		}
	}
}

#Breaking Realm
country_event = {
	id = ME_Korea_Events.6664
	title = ME_Korea_Events.6664.t
	desc = ME_Korea_Events.6664.d
	picture = COUNTRY_COLLAPSE_eventPicture

	trigger = {
		OR = {
			has_estate_privilege = estate_burghers_unrestricted_landowners
			has_estate_privilege = estate_church_destruction_of_factionalism
			has_estate_privilege = estate_nobles_monopoly_of_consort
		}
	}

	mean_time_to_happen = {
		days = 1825

		modifier = {
			factor = 0.7
			corruption = 25
		}
		modifier = {
			factor = 0.8
			corruption = 30
		}
		modifier = {
			factor = 0.9
			corruption = 50
		}
	}

	option = {
		name = ME_Korea_Events.6664.a

		add_stability = -1
		add_corruption = 5
		random_owned_province = {
			create_revolt = 1
		}
		random_owned_province = {
			create_revolt = 1
		}
		if = {
			limit = {
				OR = {
					has_estate_privilege = estate_burghers_jeonjeong
					has_estate_privilege = estate_church_hwangok
					has_estate_privilege = estate_nobles_gunpo
				}
			}
			random_owned_province = {
				create_revolt = 1
			}
			random_owned_province = {
				create_revolt = 1
			}
			random_owned_province = {
				create_revolt = 1
			}
		}
		else = {
			add_corruption = 3
		}
	}
}

#Total Breakdown
country_event = {
	id = ME_Korea_Events.6665
	title = ME_Korea_Events.6665.t
	desc = ME_Korea_Events.6665.d
	picture = CIVIL_WAR_eventPicture

	fire_only_once = yes

	trigger = {
		OR = {
			has_estate_privilege = estate_burghers_unrestricted_landowners
			has_estate_privilege = estate_church_destruction_of_factionalism
			has_estate_privilege = estate_nobles_monopoly_of_consort
		}
		corruption = 80
	}

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					nationalism = 1
				}
				create_revolt = 3
			}
		}
	}

	option = {
		name = ME_Korea_Events.6665.a

		set_estate_privilege = estate_burghers_jeonjeong
		set_estate_privilege = estate_church_hwangok
		set_estate_privilege = estate_nobles_gunpo
		add_army_tradition = -50
		add_navy_tradition = -50
		if = {
			limit = {
				has_dlc = "Cradle of Civilization"
			}
			add_army_professionalism = -0.65
		}
	}
}